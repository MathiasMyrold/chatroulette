{"version":3,"sources":["components/LoginCard/LoginCard.js","containers/Login.js","components/OnlineUsers/OnlineUsers.js","components/Chatbox/Chatbox.js","containers/Chat.js","Routes.js","App.js","index.js"],"names":["LoginCardContainer","styled","div","LoginCard","props","TextField","style","width","marginBottom","label","onChange","variant","Button","color","onClick","onLogin","LoginContainer","Login","useState","username","setUsername","setAuthState","useContext","AuthContext","history","useHistory","push","event","target","value","StyledDiv","StyledUsers","input","StyledUserCard","OnlineUsers","users","onUserClick","placeholder","marginTop","marginLeft","minHeight","map","user","name","id","Container","StyledMessages","StyledSendMessage","StyledLable","StyledMessageContainer","StyledChat","StyledHeader","h2","chatbox","Grid","className","container","item","md","background","Chat","offer","setUsers","authState","socketRef","useRef","useEffect","current","io","transports","on","emit","console","log","filter","Chatbox","toUser","WebRTCConnection","RTCPeerConnection","iceServers","urls","chatChannel","createDataChannel","onmessage","data","onopen","onclose","onicecandidate","candidate","JSON","stringify","localDescription","createOffer","then","setLocalDescription","setTimeout","exact","path","component","createContext","App","Provider","Routes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db4a24cc.chunk.js","sourcesContent":["import React from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport styled from 'styled-components';\n\n\nconst LoginCardContainer = styled.div`\n  width: 30rem;\n  height: 28rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: #fff;\n  padding: 3rem;\n  border-radius: 8px;\n`;\n\nconst LoginCard = props => {\n  return (\n    <LoginCardContainer>\n      <h1>Login</h1>\n      <hr />\n      <TextField\n        style={{ width: '100%', marginBottom: 24 }}\n        label=\"Username\"\n        onChange={props.onChange}\n        variant=\"outlined\"\n      />\n      <Button\n        style={{ width: '100%' }}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={props.onLogin}\n      >\n        Enter chat room\n      </Button>\n    </LoginCardContainer>\n  );\n};\n\nexport default LoginCard;\n","import React, {useState, createContext, useContext} from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from \"react-router-dom\";\nimport LoginCard from '../components/LoginCard/LoginCard';\nimport { AuthContext } from '../App';\n\nconst LoginContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\n\nconst Login = () => {\n  const [username, setUsername] = useState(''); \n  const {setAuthState} = useContext(AuthContext); \n  const history = useHistory();\n\n  const onChange = (event) => {\n    setUsername(event.target.value);\n  }\n\n  const onLogin = () => {\n    setAuthState({username: username}); \n    history.push('/chat');\n  }\n\n\n\n  return (\n    <LoginContainer>\n      <LoginCard onLogin = {onLogin} onChange = {onChange}></LoginCard>\n    </LoginContainer>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { TextField } from '@material-ui/core';\n\nconst StyledDiv = styled.div`\n  //border-right: ridge grey 1px;\n  min-width: 60%;\n  min-height: 100%;\n  border-radius: 0px;\n`;\n\nconst StyledSearchBar = styled.input`\n  min-height: 25px;\n  min-width: 250px;\n  display: block;\n  margin: auto;\n  margin-top: 15px;\n  border-radius: 50px;\n`;\n\nconst StyledUsers = styled.div`\n  margin-top: 20px;\n  padding:6px;\n  margin:10px;\n  \n`;\n\nconst StyledUser = styled.div`\n  background-color: black;\n  width: 100px;\n`;\n\nconst StyledUserCard = styled.div`\n  width: wrap;\n  margin: 4px;\n  padding-left: 5px;\n  user-select: none;\n  &:hover{\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    border-radius:10px;\n  } ;\n  &:active{\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.6);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.6);\n  }\n`;\n\nconst OnlineUsers = ({users, onUserClick}) => {\n  return (\n    <StyledDiv>\n      <TextField\n        placeholder=\"Search\"\n        style={{\n          width: '80%',\n          marginTop: '5px',\n          marginLeft: '3px',\n          minHeight: '20px',\n          color: 'white'\n        }}\n      ></TextField>\n      <StyledUsers>\n       <b>Brukerne:</b> <br></br>\n        {users.map(user => (\n          <StyledUserCard key={user.id} onClick={() => onUserClick(user)}>{user.name}</StyledUserCard>\n        ))}\n      </StyledUsers>\n    </StyledDiv>\n  );\n};\n\nexport default OnlineUsers;\n","import React from 'react';\nimport styled from 'styled-components';\nimport OnlineUsers from '../OnlineUsers/OnlineUsers';\nimport { TextField, Button, Grid } from '@material-ui/core';\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100%;\n`;\n\nconst StyledOwnMessages = styled.div`\n  position: right;\n  width: 70%;\n  height: relative;\n  background-color: white;\n  margin: 3px;\n\n\n`;\n\nconst StyledMessages = styled.div`\n  position: left;\n  width: 70%;\n  height: relative;\n  padding:5px;\n  background-color: none;\n  margin: 3px;\n   -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    border-radius:10px;\n`;\n\nconst StyledSendMessage = styled.div`\n\n`;\nconst StyledLable = styled.div`\n  font-size: small;\n`;\n\nconst StyledMessageContainer = styled.div`\n  color: white;\n  width: 100%;\n  height: 40vh;\n  overflow: hidden;\n  overflow-y: scroll;\n  ::-webkit-scrollbar{width: 20px;}\n  ::-webkit-scrollbar-track{\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    border-radius:10px;\n  }\n  ::-webkit-scrollbar-thumb{\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    border-radius:10px;\n  }\n`;\n\nconst StyledChat = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 80%;\n  padding: 3rem;\n`;\n\nconst StyledHeader = styled.h2`\n  text-align: left;\n  margin:0px;\n  color: white;\n`;\n\nconst chatbox = ({users, onUserClick }) => {\n  return (\n    <Container>\n      <Grid className=\"h100\" container>\n        <Grid item md={4}>\n          <OnlineUsers\n            users={users}\n            onUserClick={(user) => onUserClick(user)} />\n        </Grid>\n        <Grid item md={8}>\n          <StyledChat>\n              <StyledHeader>\n                <p>Du snakker med ....</p>\n              </StyledHeader>\n              <StyledMessageContainer>\n                <StyledLable>You:</StyledLable>\n                <StyledMessages>\n                  Hei!\n                </StyledMessages>\n                <StyledLable>Form user 1:</StyledLable> \n                <StyledMessages>\n                  HALLA!\n                </StyledMessages>\n                \n                <StyledLable>You:</StyledLable>\n                <StyledMessages>\n                  Skjer?\n                </StyledMessages>\n                <StyledLable>Form user 1:</StyledLable> \n                <StyledMessages>\n                  «Da jeg bare var et foster, så dine øyne meg. I din bok ble de alle oppskrevet,\n                   de dagene som ble fastsatt da ikke én av dem var kommet. Hvor dyrebare dine \n                   tanker er for meg, Gud! Hvor veldig er summen av dem!» Salme 139,16-17.\n                </StyledMessages>\n\n                \n                <StyledLable>You:</StyledLable>\n                <StyledMessages>\n                  Jah hade.\n                </StyledMessages>\n                <StyledLable>Form user 1:</StyledLable> \n                <StyledMessages>\n                  hade :()\n                </StyledMessages>\n\n            </StyledMessageContainer>\n            <StyledSendMessage>\n              <TextField\n                style={{ width: '100%', marginBottom: 24, background: '#fff' }}\n                label=\"ENTER MESSAGE\"\n                variant=\"outlined\"\n              />\n              <Button\n                style={{ width: '100%' }}\n                variant=\"contained\"\n                color=\"secondary\"\n              >\n                Send Message\n              </Button>\n            </StyledSendMessage>\n          </StyledChat>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default chatbox;\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport io from 'socket.io-client';\nimport { AuthContext } from '../App';\nimport Chatbox from '../components/Chatbox/Chatbox';\n//import axios from 'axios';\n\nconst Chat = () => {\n  const [users, setUsers] = useState([]);\n  const { authState } = useContext(AuthContext);\n\n  let offer;\n\n  const socketRef = useRef();\n  \n\n  useEffect(() => {\n\n    socketRef.current = io('/', {\n    transports: [\"websocket\", \"polling\"]\n  }); \n\n    socketRef.current.on('connect', () => {\n      socketRef.current.emit('username', authState.username); \n    })\n\n    socketRef.current.on(\"users\", users => {\n      setUsers(users);\n      console.log(\"Under kommer users, som jeg ikke får brukt i setUsers, faen\");\n      console.log(users);\n    });\n\n    socketRef.current.on(\"connected\", user => {\n      setUsers([...users, user]);\n      console.log(users)\n    });\n\n    socketRef.current.on(\"disconnected\", id => {\n      console.log(id); \n      setUsers(users => {\n        return users.filter(user => user.id !== id);\n      });\n    });\n\n  }, []);\n  \n  const onUserClick = (toUser) => {\n    console.log(\"USER CLCKED\", toUser)\n\n    const WebRTCConnection = new RTCPeerConnection({\n      iceServers: [\n        {\n          urls: 'stun:stun1.l.google.com:19302',\n        },\n      ],\n    });\n    \n    const chatChannel = WebRTCConnection.createDataChannel('chat');\n    chatChannel.onmessage = (event) => console.log('Ny melding:', event.data);\n    chatChannel.onopen = () => console.log('Åpnet ');\n    chatChannel.onclose = () => console.log('Lukket');\n  \n    WebRTCConnection.onicecandidate = (event) => {\n      if (event.candidate)\n       offer = JSON.stringify(WebRTCConnection.localDescription);\n    }\n    \n    WebRTCConnection.createOffer().then((localDescription) => {\n      WebRTCConnection.setLocalDescription(localDescription);\n    });\n\n    setTimeout(() => { socketRef.current.emit('offer', offer, toUser); }, 250);\n\n  }\n  return <Chatbox users={users} onUserClick={(user) => onUserClick(user)} />;\n};\n\nexport default Chat;\n","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport Login from './containers/Login';\nimport Chat from './containers/Chat';\n\nexport default (\n  <Switch>\n    <Route exact path=\"/\" component={Login} />\n    <Route exact path=\"/chat\" component={Chat} />\n  </Switch>\n);\n","import React , { useState, createContext }from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Routes from './Routes';\n\nexport const AuthContext = createContext({\n  authState: null,\n  setAuthState: () => {}\n  });\n\nfunction App() {\n  const [authState, setAuthState] = useState({username: null}); \n\n  return (\n    <BrowserRouter >\n      <div className=\"App\">\n        <AuthContext.Provider value={{authState, setAuthState}}>{Routes}</AuthContext.Provider>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}